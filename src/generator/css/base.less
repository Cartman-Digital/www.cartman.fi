@tailwind base;
@tailwind components;
@tailwind utilities;

:root {
    --color-primary: #FF00EF;
    --color-primary-offset: #FFC4FB;
    --color-secondary: #0073D4;
    --color-secondary-offset: #03B3FF;
    --color-accent: #FFEF5A;
    --color-accent-dark: #1AACBF;
    --color-grey-primary: #2A2A2A;
    --color-white-primary: #FFFFFF;
    --color-grey-primary-light: #B8B7B7;
    --color-grey-offset: #FFF;

    /** backgrounds **/
    --color-section-bg: var(--color-primary-offset);
    --color-section-greyscale-bg: var(--color-white-primary);
    --color-nav-bg: var(--color-white-primary);
    --color-page-bg: var(--color-white-primary);

    /** text **/
    --color-section-title: var(--color-grey-primary);
    --color-body-text: var(--color-grey-primary);
    --color-link-hover: var(--color-grey-primary-light);
    --font-h1: "Ankshar", sans-serif;

    /** Base layout off 8px increments */
    --layout-spacing-horizontal: 24px;
    --layout-spacing-vertical: 32px;
    --layout-spacing-v-half: 16px;
    --navigation-height: 106px;
}

@media (prefers-color-scheme: dark) {
  :root {
    /** backgrounds **/
    --color-section-bg: var(--color-grey-primary);
    --color-section-greyscale-bg: var(--color-grey-primary);
    --color-nav-bg: var(--color-grey-primary);
    --color-page-bg: var(--color-grey-primary);;

    /** text **/
    --color-section-title: var(--color-white-primary);
    --color-body-text: var(--color-white-primary);
  }
}

/*****
Cartman.fi main css file
Use the code comments to navigate the file to adjust styles you need

1. Typeface
2. Forms
3. Generic input styles
4. Layout
5. Navigation
6. Footer
7. Body components
    A. Row and side-by-side
    B. Sub navigation
    C. Hero banner
    D. Card list
    E. Post list 
    F. Post
    G. Table
8. Page specific styles
    A. Front page
    B. Services page.
    C. Post list page 
    D. Post page
    E. People list page
    F. Individual Person page

*****/

/**
 * Typeface declarations
 */
 html {
    /* Root font size. use an increment of 8px, modifying this affects the spacing of rest of the website. */
    font-size: 16px; 
}

html body {
    color: var(--color-body-text);
    font-family: 'Roboto', sans-serif;
    font-weight: 300;
    letter-spacing: .01em;
    padding-top: var(--navigation-height);
    /** if you want to adjust text size without changing the spacing, use this field to change it. */
    font-size: 17px;
    line-height: 24px;

    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
        font-family: 'Roboto', sans-serif;
        font-weight: 700;
        letter-spacing: 0;
        color: var(--color-section-title);
    }

    h1 {
        font-family: var(--font-h1);
        font-weight: 700;
        @apply mb-8;
        font-size: 39px;
        line-height: 64px;
        color: var(--color-primary);
    }

    h2 {
        font-family: 'Roboto', sans-serif;
        font-weight: 300;
        @apply mb-6;
        font-size: 28px;
        line-height: 38px;
        text-transform: uppercase;
        border-bottom: 2px solid var(--color-primary);
        display: inline-block;
        padding-bottom: 0;
    }

    h3 {
        @apply mb-4;
        font-size: 23px;
        line-height: 40px;
    }

    h4 {
        @apply mt-4 mb-2;
        font-size: 19px;
        line-height: 32px;
    }

    h5 {
        @apply mb-2;
        font-size: 17px;
        line-height: 32px;
    }

    blockquote {
        font-family: 'Ubuntu', sans-serif;
        font-weight: 300;
        font-size: 28px;
        line-height: 40px;
        color: var(--color-primary);
        quotes: "\201C" "\201D" "\2018" "\2019";

        p {
            display: inline;
        }

        &::before {
            display: inline;
            content: open-quote;
        }

        &::after {
            display: inline;
            content: close-quote;
        }
    }

    >.content {
        @apply mx-auto py-0; 
    }

    p {
        @apply mb-2 whitespace-pre-wrap;   
    }

    ul {
        @apply list-disc mb-2;
    }

    ol {
        @apply list-decimal mb-2;
        padding-inline-start: 2rem;
    }

    li {
        @apply mb-0;

        p {
            @apply mb-1;
        }
    }

    a {
        text-decoration: underline;
        cursor: pointer;
    }
    
    a:hover {
        color: var(--color-secondary-offset);
    }

    .chevron {
        position:relative;
        display:block;
        height:20px; /*Height should be double border thickness*/
    }
    .chevron::before,
    .chevron::after {
        position:absolute;
        display:block;
        content:"";
        border:10px solid transparent; /*Adjust chevron size*/
    }
    /*Change the four instances of 'top' below to rotate chevron*/
    /*Use (top/right/bottom/left) where you want the back of the chevron to be*/
    .chevron::before {
        top:0;
        border-top-color: var(--color-primary); /*Chevron Color*/
    }
    .chevron::after {
        top:-3px; /*Adjust thickness*/
        border-top-color:var(--color-white-primary); /*Match chevron background colour*/
    }
}

html body {
    background-color: var(--color-page-bg);
}

/**
 * Forms
 */
body {
    input[type="text"],
    input[type="email"],
    textarea {
        display: block;
        color: var(--color-body-text);
        margin-bottom: 1rem;
        padding: 8px 16px;
    }

    textarea {
        resize: both;
        min-width: 16rem;
        min-height: 2.625rem;
        box-sizing: border-box;
    }

    label {
        padding-left: 0.25rem;
    }
    
    .action,
    input[type="checkbox"],
    input[type="radio"] {
        cursor: pointer;
    }

    hr {
        @apply w-4/6 my-8 mx-auto;
    }

    .form-container {
        @apply clear-left pt-10 border border-[var(--color-body-text)] pb-2 mb-4 md:w-2/4;
    }
}

.form-wrap {
    position: relative;
    overflow: hidden;

    input,
    textarea {
        @apply lg:w-96 w-72;
    }

    /**
     * workaround: submit input cannot have before and after elements 
     * this breaks button animation styles. Apply the styles to wrapping div for animations
     * and remove the wrappers padding to avoid deadzone inside button borders
     */
    div.action.button.primary {
        /* width set because of box-border requirement getting ignored without it. */
        @apply lg:w-96 w-72 p-0 box-border;
    }

    .submit {
        /* Workaround continuation: apply padding to input directly. */
        @apply w-full p-2;
        cursor: pointer;
    }

    textarea {
        min-height: 100px;
    }

    form {
        transition: 250ms;
        position: relative;
        left: 0;
        margin-bottom: 10px;

        &.loading {
            position: relative;
        
            &::before {
                position: absolute;
                content: ' ';
                top: 0;
                bottom: 0;
                left: 0;
                right: 0;
                z-index: 100;
                background-color: var(--color-body-text);
                opacity: 0.4;
            }
        
            .bar-loader {
                position: absolute;
                display: inline-block;
                top: 35%;
                left: 30%;
                z-index: 101;
            }
        }
    }

    .success-wrap {
        /** visibility used instead of display due to css transition */
        visibility: hidden;
        position: absolute;
        left: 105%;
        transition: 250ms;
        top: 0;
    }

    &.success {
        form {
            left: -100%;
            transition: 250ms;
        }

        .message-container {
            display: none;
        }

        .success-wrap {
            visibility: visible;
            left: 0;
            transition: 250ms;
        }
    }

    &.error {
        .message-container {
            display: block;
        }
    }
}

.bar-loader {
    display: none;
    position: relative;
    width: 80px;
    height: 80px;
}
.bar-loader div {
    display: inline-block;
    position: absolute;
    left: 8px;
    width: 16px;
    background: #fff;
    animation: bar-loader 1.2s cubic-bezier(0, 0.5, 0.5, 1) infinite;
}
.bar-loader div:nth-child(1) {
    left: 8px;
    animation-delay: -0.24s;
}
.bar-loader div:nth-child(2) {
    left: 32px;
    animation-delay: -0.12s;
}
.bar-loader div:nth-child(3) {
    left: 56px;
    animation-delay: 0;
}
@keyframes bar-loader {
    0% {
      top: 8px;
      height: 64px;
    }
    50%, 100% {
      top: 24px;
      height: 32px;
    }
}

/**
 * Generic input styling.
 */
.button {
    display: inline-block;
    padding: 8px 8px;
    border-top: 1px solid var(--color-body-text);
    border-bottom: 1px solid var(--color-body-text);
    margin-top: 2rem;
    margin-right: 1.5rem;
    text-decoration: none;
}

.button.primary,
.btn-primary {
    border: 2px solid transparent;
    display: inline-block;
    padding: 8px;
    border-left-color: var(--color-body-text);
    border-right-color: var(--color-body-text);
    background-color: transparent;
    text-decoration: none;
    color: var(--color-body-text);
    position: relative;

    &::before,
    &::after {
        position: absolute;
        content: '';
        background-size: 200%;
        transition: background-position-x 500ms ease-in-out;
        height: 2px;
        left: -2px;
        right: -2px;
    }

    &::before {
        top: -2px;
        background-image: linear-gradient(90deg, var(--color-body-text) 20px, transparent 20px, transparent 45px, var(--color-body-text) 45px);
        background-position-x: left, 0px;
    }

    &::after {
        bottom: -2px;
        background-image: linear-gradient(-90deg, var(--color-body-text) 20px, transparent 20px, transparent 45px, var(--color-body-text) 45px);
        background-position-x: right, 0px;
    }

    &:hover::before,
    &:focus::before {
        background-position-x: right, 0px;
    }

    &:hover::after,
    &:focus::after {
        background-position-x: left, 0px;
    }
}

.button:hover {
    background-color: var(--color-body-text);
    color: var(--color-page-bg);
}

.button.primary:hover,
.btn-primary:hover {
    background-color: transparent;
    color: var(--color-body-text);

    &:active {
        background-color: var(--color-body-text);
        color: var(--color-page-bg);
    }
}

/**     
 * Layout
 */
body .content > .doc,
body .content > section,
body .content .post-list,
body .content > .post {
    @apply clear-left overflow-hidden m-auto py-16 px-8 md:px-12 2xl:px-4;
}

.content > .doc,
.row,
.post-list,
.post {
    @apply max-w-screen-2xl;
}

/**
 * Navigation
 */
.navigation {
    @apply fixed w-full z-20 top-0 left-0 shadow-md;
    background-color: var(--color-nav-bg);
    height: var(--navigation-height);

    .nav-wrapper {
        @apply max-w-screen-2xl flex flex-wrap items-center justify-between mx-auto h-full;

        >button {
            @apply inline-flex items-center p-2 ml-3 text-sm lg:hidden focus:outline-none focus:ring-2 focus:ring-gray-200 text-gray-400 focus:ring-gray-600;
        }

        svg {
            @apply w-6 h-6;
        }
    }

    .logo {
        @apply block;

        img {
            @apply block h-16;
        }

        span {
            @apply sr-only self-center text-2xl font-semibold whitespace-nowrap;
        }
    }

    .nav-list-wrapper {
        @apply w-full lg:block lg:w-auto max-w-2xl flex-grow;

        ul {
            @apply list-none font-medium flex flex-col p-4 lg:p-0 mt-4 mb-0 lg:flex-row lg:space-x-8 lg:mt-0 items-center justify-between;
        }

        li:last-child a {
            @apply text-[var(--color-primary)] hover:text-[var(--color-primary-offset)];
        }

        a {
            @apply tracking-widest uppercase block py-2 pl-3 pr-4 rounded lg:border-0 lg:p-0 lg:hover:text-[var(--color-link-hover)] lg:hover:bg-transparent;
            color: var(--color-body-text);
        }
    }

    a {
        text-decoration: none;
    }
}

/**
 * Footer content styling.
 */
.footer {
    @apply py-4 text-center;
    background-color: var(--color-section-greyscale-bg);
    color: var(--color-body-text);
}

.social-media {
    @apply mt-2;

    .icon {
        @apply text-center mx-2;

        svg {
            display: inline-block;
        }
    }
}

/**
 * Body component styles
 * 
 * Row and side-by-side
 */
.row {
    @apply py-10 clear-left overflow-hidden max-w-screen-2xl m-auto;

    .side-by-side {
        @apply md:w-2/4;
    }

    .side-by-side.right {
        @apply md:float-right md:pl-6;
    }

    .side-by-side.left {
        @apply md:float-left md:pr-6;
    }
}

/** Sub navigation */
.sub-nav ul {
    @apply px-4 xl:px-0;
    gap: 0.5rem;

    .nav-item {
        @apply btn-primary w-full;
        justify-self: center;

        a {
            @apply block w-full py-4 text-center;
            font-family: 'Ubuntu', sans-serif;
            color: var(--color-body-text);
            font-weight: 300;
            font-size: 24px;
            line-height: 32px;
            text-decoration: none;

            &:hover {
                text-decoration: underline;
                background-color: var(--color-page-bg);
            }

            &::before {
                content: "";
                display: inline-block;;
                margin: auto;
                width: 32px;
                height: 32px;
                background-size: contain;
                background-color: var(--color-body-text);
                text-align: center;
                margin: 0 0.5rem -0.5rem 0;
            }

            &:active {
                color: var(--color-page-bg);
                background-color: var(--color-body-text);

                &::before {
                    background-color: var(--color-page-bg);
                }
            }
        }

        &.link-solutions a::before {
            mask-image: url(/assets/icons/idea.svg);
        }
        &.link-way a::before {
            mask-image: url(/assets/icons/process.svg);
        }
        &.link-consulting a::before {
            mask-image: url(/assets/icons/speech-bubble.svg);
        }
        &.link-audit a::before {
            mask-image: url(/assets/icons/file.svg);
        }
    }
}

/** Hero banner */
body .content .hero-banner {
    @apply py-10 bg-cover mb-4;
    background-position: center 25%;
    position: relative;
    min-height: 100vh;

    h1 {
      @apply text-[var(--color-white-primary)] text-7xl md:text-8xl xl:text-9xl;

      &::first-line {
        @apply text-[var(--color-primary)];
      }
    }

    h1, .cta {
      @apply uppercase;
    }

    .banner-content-wrap {
        @apply m-auto overflow-hidden max-w-screen-2xl px-4;
        position: relative;
        z-index: 2;
    }

    .cta.primary {
      @apply text-4xl tracking-wider bg-[var(--color-accent)] pt-3 pb-2 px-5 text-[var(--color-primary)];
      font-family: 'Akshar', sans-serif;
      font-weight: 700;
      border: unset;

      &::before, &::after {
        display: none;
      }
    }

    .banner-text {
        @apply w-full lg:w-4/5 xl:w-5/6 mr-14 mt-14;
    }

    +div {
        @apply border-t-0;
    }
}

.hero-banner::before {
    position: absolute;
    top: 0;
    left: 0;
    right: 0;
    bottom: 0;
    content: "";
    display: block;
    background-color: rgba(13, 14, 31, 0.5);
    /* grey-primary in rgb with opacity */
    z-index: 1;
    @apply bg-opacity-50;
}

/** Grid */
.what-we-do {
  @apply bg-[var(--color-accent-dark)] py-52 px-20 -mt-32 z-10;
  clip-path: polygon(100% 6.5%, 0% 0% ,0% 100%, 100% 93.5%);
  position: relative;

  h2 {
    font-family: var(--font-h1);
    font-weight: 700;
    @apply text-6xl mb-28;
    border: unset;

    span {
      @apply text-[var(--color-accent)];
    }
  }

  .grid {
    @apply gap-y-16;
    grid-template-columns: repeat(12, 1fr);
    grid-template-rows: repeat(3, 1fr);
  }

  .grid > :nth-child(1),
  .grid > :nth-child(2) {
    grid-row: 1;
  }

  .grid > :nth-child(3),
  .grid > :nth-child(4) {
    grid-row: 2;
  }

  .grid > :nth-child(5),
  .grid > :nth-child(6) {
    grid-row: 3;
  }

  .grid > :nth-child(2),
  .grid > :nth-child(3),
  .grid > :nth-child(6),
  .grid > :nth-child(7) {
    @apply z-10 my-8 px-12 pt-16 pb-20;
    background-color: var(--color-white-primary);
    align-self: center;

    p {
      font-size: 1.75rem;
      line-height: 2.85rem;

      strong {
        @apply tracking-widest text-4xl mb-9 block;
        font-family: var(--font-h1);
        font-weight: 700;
      }
    }
  }

  /** text boxes **/
  .grid > :nth-child(2),
  .grid > :nth-child(6) {
    grid-column: 7 / end;
    @apply mr-11;
  }

  .grid > :nth-child(3),
  .grid > :nth-child(7) {
    grid-column: 1 / 7;
    @apply ml-11;
  }

  /** image boxes **/
  .grid > :nth-child(1),
  .grid > :nth-child(5) {
    @apply -my-6 mr-8;
    grid-column: 1 / 8;
  }

  .grid > :nth-child(4),
  .grid > :nth-child(8) {
    @apply -my-6 ml-8;
    grid-column: 6 / end;
  }

  .item {
    @apply relative;
    z-index: 1;

    img {
      width: 100%;
    }
  }
}

/** Card list */
body .content .card-list {
    width: 100%;
    @apply py-0;

    .intro {
        @apply col-span-full text-center mb-4;
    }

    > .doc {
        @apply text-center ;
        padding: 0 var(--layout-spacing-horizontal);
    }

    ul {
        @apply px-0;
        list-style-type: none;
        margin-bottom: 0.5rem;
    }
}

/** Post list */
.post-list-wrap .intro {
    @apply text-center;
}

.post-list {
    @apply grid;

    .post {
        @apply mb-16 align-text-bottom grid grid-cols-1 md:grid-cols-10 gap-10;

        a.action {
            @apply self-start mt-auto float-left md:float-right;
        }

        .image {
            @apply col-span-4  hidden md:block;
            max-height: 40vh;
            img {    
                height: 100%;
                width: 100%;
                object-fit: cover;
            }
        }

        .body {
            @apply col-span-6;
        }

        .post-body {
            @apply mb-3;   
        }
    
        h2 {
            @apply mb-3 border-b;
        }
    }
}


/** Post */
.post {
    .types {
        @apply mb-3;
    }

    .type {
        @apply border rounded-md capitalize px-2 py-1 text-sm;

        &.news {
            border-color: var(--color-primary-offset);
            color: var(--color-primary-offset);
        }
        &.dev {
            border-color: var(--color-secondary-offset);
            color: var(--color-secondary-offset);
        }
    }

    .author {
        @apply mb-3;

        .name {
            font-weight: 700;
        }

        .published::before {
            @apply px-2;
            content: '\00B7';
        }

        .published,
        .name {
            @apply inline;
        }
    }
}

/** Table */
body table {
    @apply border border-spacing-1 my-8;

    td,
    th {
        @apply border-gray-500 border p-2;
    }

    p {
        @apply m-0;
    }
}

/**
 * Page specific styles 
 */
.narrow  > .content {
    @apply max-w-screen-lg;

    > .doc,
    > section,
    .post-list,
    > .post {
        @apply pt-0 pb-4;
    }

    > section .row {
        @apply pt-0;
    }
}

.static-page:not(.narrow) .content > .doc {
    & > p,
    & > h3 {
        @apply max-w-4xl mx-auto;
    }
}

 /** Front page */
.front-page {
    .title-wrap{
        text-align: center;
    }
}


/** Services page */
.services .content>section:nth-child(odd) {
    background-color: #000;
}

.services .content .side-by-side {
    &.left {
        @apply sm:w-3/12;
    }

    &.right {
        @apply sm:w-9/12 pt-2;

        .doc a {
            @apply btn-primary mt-6;
        }
    }

    /** assume logo grid inside embedded content */
    .embed {
        .intro {
            @apply text-left mt-4;
        }

        .grid {
            @apply grid-cols-3 md:grid-cols-5 lg:grid-cols-7 xl:grid-cols-9 2xl:grid-cols-10 gap-2;
        }
        
        .doc {
            padding: 0;
            grid-column: span 2
        }
    }
}

/** Post list page */
body.postlist {
    h1 {
        @apply mt-8 text-center;
    }
}

/** Post page */
body.post-page {
    .post {
        @apply text-center;
    }

    .post-body {
        @apply text-left max-w-screen-md mx-auto;
    }

    .image {
        display: none;
    }

    code {
        @apply my-6 text-base block shadow-white border border-white bg-black p-4 whitespace-pre-wrap;
        box-shadow: inset 1px 1px 3px;
        overflow-wrap: break-word;
    }
}


/** People List page */
.people .doc {
    @apply lg:max-w-6xl
}

.people-list-wrap {
    @apply text-center lg:max-w-7xl;

    .people-list {
        @apply grid sm:grid-cols-3 py-0;
        width: 100%;
        list-style-type: none;
        padding: initial;

        .person-body {
            @apply my-5 text-center;
            padding: 0 var(--layout-spacing-v-half);

            a {
                text-decoration: none;
            }

            a:hover {
                cursor: pointer;
            }

            .no-link-style {
                pointer-events: none;  
            }
            
            .image {
                @apply mb-5 lg:block md:mb-0;
            }
        }
    }
}


/**Individual Person page*/
.person-page {
    @apply pt-20;

    .person ul {
        @apply pl-0;

        li {
            @apply flex mb-2;
        }

        .logo {
            @apply mr-4 inline-block pt-2 mb-2;
            flex: 0 0 50px;
            max-height: 50px;

            img {
                width: 100%;
                height: 100%;
                object-fit: contain;
            }
        }

        .name {
            @apply font-bold;
        }
    }

    .wrap {
        @apply text-left flex flex-nowrap mb-4;

        .left {
            @apply py-2 flex flex-col md:flex-row justify-between flex-nowrap md:pr-8;
            flex: 0 0 20%;

            span {
                display: block;
            }

            .gap-line {
                @apply mx-5 my-2 md:mx-3 md:my-3 flex-grow w-px md:w-auto h-px;
                flex: 1 0 0;
                width: 1px;
                background-color: var(--color-body-text);
            }
        }
        .right {
            flex: 0 0 80%;
            overflow: hidden;
            position: relative;

            .title,
            .employer {
                @apply block;
            }

            .job-description p {
                @apply overflow-hidden;
                position: relative;
                text-overflow: ellipsis;
                transition: max-height 500ms ease-in-out;
                cursor: pointer;
            }

            &.full {
                .job-description p {
                    max-height: 25rem;

                    &::after {
                        @apply hidden;
                    }
                }

                .read-more {
                    @apply hidden;
                }
            }
        }
    }
    
    h2 {
        @apply mt-8;
    }

    .abilities .doc,
    .abilities h3 {
        margin-left: 20%;
    }

    .person {
        @apply lg:max-w-7xl mx-auto;
        padding: 0 var(--layout-spacing-horizontal) 2rem;

        .image {
            @apply md:block;

            img {
                max-height: 50vh;
            }
        }

        .office {
            font-weight: bold;
        }

        .body{
            @apply md:max-w-4xl;
        }

        .person-body {
            @apply my-12 max-w-3xl text-left;

            strong {
                @apply font-bold;
            }
        }
    }    
}

.main-banner-block {
    @apply flex relative items-center justify-center w-full min-h-80;
}

.main-banner-text {
    @apply z-10 text-center min-h-72 bg-[#0073D4] w-2/4;	

    clip-path: polygon(0% 0%,90% 0%,100% 100%,10% 100%);	
}

.inclined-contour  {
  
}

.blog-recent {
    @apply bg-[#1aacbf]  pt-24 pb-44;
    clip-path: polygon(0% 13%, 100% 0% ,100% 100%, 0% 87%);

    h2 {
	@apply pt-10 ml-10 font-extrabold tracking-widest;
    }

    a {
	@apply text-2xl tracking-wider uppercase no-underline;

    }
    a:hover {
	@apply text-[#ff00ef];
    }
}

.block {
  h2 {
      @apply ml-12 font-extrabold tracking-widest;
  }
}

.trusted-by:nth-child(odd) {

}

.foot ul {
    @apply list-none content-start items-start;
}
